# Клыки и Сталь

## О проекте

### Цель проекта
Используя движок Unity, сделать в рамках проектной деятельности оригинальную стратегию, которая понравится фанатам жанра

### Задачи
- [ ] Реализовать юнитов (хар-ки, Pathfind и др.)
- [ ] Реализовать управление группами юнитов
- [ ] Создать карту для игры
- [ ] Реализовать режим hotseat
- [ ] Создать расу для игры
- [ ] Создать модели юнитов и окружения, а также анимации к ним

### Используемые технологии
- Игровой движок Unity
- Unity's Data Oriented Technology Stack (DOTS)

### Описание проекта

На далекой планете разразился конфликт между роботами и антропоморфными животными. Игроку предоставляется возможность взять на себя роль полководца одной из сторон и привести её к победе в битве за территорию. Главными инструментами для достижения этой цели станут тактика и стратегия, ведь посыльные не способны донести приказы до офицеров в мгновение ока, отчего отдавать их возможно только раз в некоторый промежуток времени. Игроку как лидеру своей армии следует очень осторожно подходить к принятию решений на поле боя, стараться предугадать ход противника. Ведь в случае ошибки мгновенно среагировать не выйдет и останется только наблюдать на своем письменном столе удручающий отчет о потерях.

___

Наш проект - игра на Unity в жанре Low Poly 3D Wargame, которая совмещает в себе механики пошаговых и real-time стратегий. Основным режимом будут считаться бои между двумя игроками за одним компьютером (hotseat), в которых они будут бороться за контроль над точками, приносящими победные очки. Когда одна из сторон зарабатывает некоторое заданное значение последних, она объявляется победителем. Также на карте будут присутствовать точки притока ресурсов, за которые, несомненно, также развернется борьба, ведь именно за счет этих самых ресурсов на поле боя будут призываться новые юниты.

Важнейшей деталью геймплея является отсутствие ежесекундного контроля за своей армией. Возможность отдавать приказы предоставляется исключительно в течении хода игрока, во время которого игра стоит "на паузе". Однако после нажатия кнопки "Завершить ход" всякое управление войсками отбирается, а "пауза" снимается на некоторое относительно небольшое время. Игроки наблюдают за исходом собственных решений, после чего цикл повторяется вплоть до победы одной из сторон.
<details><summary>
  
## Наша команда
</summary>

### 2 курс
- [2.3 Данильченко Евгений Станиславович](https://vk.com/mrdeys)
- **[2.4 Деркунский Егор Александрович](https://vk.com/cho_pinguesh "Тимлид команды")**
- [2.4 Романова Стефания Алексеевна](https://vk.com/almondlovesyou)

### 1 курс
- [1.2 Дудников Александр Владимирович](https://vk.com/comrade_sasha_vd)
- [1.2 Рыпунов Денис Олегович](https://vk.com/denis_rypunov)
- [1.4 Баев Дмитрий Андреевич](https://vk.com/templarabuzer)
</details>

## Вниманию проверяющих
### Общие пояснения текущих механик и интерфейса
Геймплей разделен на две фазы: так называемые "Фазу Планирования" и "Фазу Действия".  Текущую фазу обозначает цветной индикатор рядом с кнопкой "Закончить ход": красный = "Фаза Планирования"; зеленый = "Фаза Действия". Во время "Фазы Планирования" в мире игры стоит пауза, а у игроков есть возможность управлять своими юнитами. Во время "Фазы Действия" все ровно наоборот - пауза снимается, и управление юнитами отнимается у игрока. "Фаза Планирования" не имеет ограничения по времени, а каждая "Фаза Действия" длится 10 секунд, которые отсчитывает таймер в правом нижнем углу экрана. Смена режима происходит по кнопке "Закончить ход" или по истечении 10 секунд "Фазы действия". 

На "Полигоне" присутствуют как юниты игрока, так и юниты условного противника. Игрок может выбирать и управлять лишь своими юнитами. Главным средством управления является указание точки движения (или очереди точек с использованием сочетания `Shift` + `ПКМ`). Юниты сами находят себя цель для атаки и атакуют её. В случае если в радиусе атаки юнита находится несколько целей выбор сделается в пользу цели с наименьшим кол-вом здоровья; в случае одинакового здоровья выбирается ближайший противник. Во время атаки юнит не может двигаться; так же по умолчанию он не может двигаться при перезарядке. 

Для управления юнитами в текущей версии у игрока есть две дополнительных кнопки:
- "Стоп": отменяет текущую приказ о передвижении и очищает очередь этих приказов. Тем самым юнит полностью прекращает движение вплоть до поступления новых приказов о перемещении (`ЛКМ`)
- "Режим Огня": меняет текущий "режим огня" юнита. Увидеть текущее состояние можно, выбрав конкретного юнита через одиночный клик `ЛКМ` - кнопка подсветится красным или зеленым. Первый означает, что юнит перезаряжается, стоя на месте. Когда же кнопка окрашена в зеленый цвет, это означает, что юнит может перезаряжаться на ходу. В текущей версии это не приносит никаких дебаффов, но в дальнейшем в этом режиме скорость движения и перезарядки будет снижаться.

В текущей версии доступны два типа юнитов: условные "обычный робот" и "пулеметчик". Первый ничем не примечателен. Второй же обладает особенной механикой "развертывания", а именно: у него есть два состояния - "свернутый" и "развернутый". В первом он может ходить, а во втором стрелять. На развертывание или свертывание уходит некоторое время. В случае потери цели в радиусе атаки "пулеметчик" будет ждать небольшое время (в текущей версии 1,5 секунды), прежде чем свернуться.

При выборе одного юнита в левом верхнем углу выведется окошко с его характеристиками

### Известные проблемы и недоработки
- Отсутствует какая-либо визуальная индикация о том, юнит ли это игрока или противника. В текущей версии догадаться о принадлежности юнита можно по: а) невозможности выбрать юнит б) отсутствию или наличию круга обзора вокруг него, в случае если он не окружен другими юнитами игрока (противник не будет "расширять" обзор игрока и рассеивать "туман войны")
- Не работает цветовая индикация кнопки "Режим Огня" и не выводится окошко с характеристиками юнита, если с помощью множественного выделения (Зажатие `ЛКМ`) выделить одного юнита
- Цветовая индикация кнопки "Режим Огня" ломается если выбрать юнит одиночным кликом во время "Фазы действия" **ИЛИ** если на момент запуска "Фазы действия" кнопка будет уже окрашена в какой-то цвет
- Если *Зайти в полигон* -> *Выйти в главное меню* -> *Снова зайти в полигон*, то во втором и последующем запусках все юниты противника будут видны вне зависимости от текущего обзора игрока вплоть до первого нажатия кнопки "Закончить ход"
- Юниты могут "войти друг в друга" или "пройти сквозь друг друга"
- Юниты противника при достижении своей цели [движения] могут некорректно порой себя вести: "дергаться" или применять некорректные анимации
- "Пулеметчик" имеет не все анимации
- "Туман Войны" отображает точный обзор игрока только в случае если смотреть на него перпендикулярно сверху-вниз. В большинстве случаев искажение не слишком большое, но при некоторых углах камеры это может ввести в заблуждение
- Esc-меню написана на английском

### Вещи, не являющиеся ошибками, но которые могут создать впечатление некорректной работы
- "Пулеметчик" имеет чуточку меньший радиус атаки, чем "обычный робот", отчего может возникнуть ситуация, когда последний стреляет, а "пулеметчик" просто стоит, ничего не делая
- Камера по умолчанию имеет ограничение по минимальной высоте. Чтобы выключить/включить его нажмите клавишу `B` (может быть полезно если хотите посмотреть на юнитов поближе)
- В случае нахождения камеры слишком близко к земле (ниже минимальной высоты) "Туман Войны" пропадает. В обычной игре игроку не будет позволено спускаться ниже минимальной высоты, так как это исключительно тестировочный инструмент
- Во время "Фазы действия" не работают кнопки / юниты не слушаются приказов - так и задумано, см. первый абзац в "Общие пояснения текущих механик и интерфейса"

### Управление
| Действие  | Клавиши |
| :---- | :----: |
| Движение камеры | `W` `A` `S` `D` |
| Приближение камеры  | `Колесико мыши` |
| Вращение камеры  | `СКМ` + `Движение мышью` |
| Отключить ограничение камеры  | `B` |
| Выбрать одного юнита  | `ЛКМ` |
| Выбрать группу юнитов  | Зажатие `ЛКМ` |
| Указать текущую точку движения (для выбранных юнитов) | `ПКМ` |
| Добавить в очередь новую точку движения (для выбранных юнитов) | `Shift` + `ПКМ` |
| Открыть меню  | `Esc` |
