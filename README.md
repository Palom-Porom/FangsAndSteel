# Клыки и Сталь

## О проекте

### Цель проекта
Используя движок Unity, сделать в рамках проектной деятельности оригинальную стратегию, которая понравится фанатам жанра

### Задачи
- [ ] Реализовать юнитов (хар-ки, Pathfind и др.)
- [x] Реализовать управление группами юнитов
- [ ] Создать карту для игры
- [x] Реализовать режим hotseat
- [x] Создать расу для игры
- [x] Создать модели юнитов и окружения, а также анимации к ним

### Используемые технологии
- Игровой движок Unity
- Unity's Data Oriented Technology Stack (DOTS)

### Описание проекта

На далекой планете разразился конфликт между различными группировками роботов. Игроку предоставляется возможность взять на себя роль полководца одной из сторон и привести её к победе в битве за территорию. Главными инструментами для достижения этой цели станут тактика и стратегия, ведь посыльные не способны донести приказы до офицеров в мгновение ока, отчего отдавать их возможно только раз в некоторый промежуток времени. Игроку как лидеру своей армии следует очень осторожно подходить к принятию решений на поле боя, стараться предугадать ход противника. Ведь в случае ошибки мгновенно среагировать не выйдет и останется только наблюдать на своем письменном столе удручающий отчет о потерях.

___

Наш проект - игра на Unity в жанре Low Poly 3D Wargame, которая совмещает в себе механики пошаговых и real-time стратегий. Основным режимом будут считаться бои между двумя игроками за одним компьютером (hotseat). В начале боя игроки собирают из различных юнитов свою армию, после чего их главной целью становится полное уничтожение противника.

Важнейшей деталью геймплея является отсутствие ежесекундного контроля за своей армией. Возможность отдавать приказы предоставляется исключительно в течении хода игрока, во время которого игра стоит "на паузе". Однако после нажатия кнопки "Завершить ход" всякое управление войсками отбирается, а "пауза" снимается на некоторое относительно небольшое время. Игроки наблюдают за исходом собственных решений, после чего цикл повторяется вплоть до победы одной из сторон.
<details><summary>
  
## Наша команда
</summary>

### 2 курс
- [2.3 Данильченко Евгений Станиславович](https://vk.com/mrdeys)
- **[2.4 Деркунский Егор Александрович](https://vk.com/cho_pinguesh "Тимлид команды")**
- [2.4 Романова Стефания Алексеевна](https://vk.com/almondlovesyou)

### 1 курс
- [1.2 Дудников Александр Владимирович](https://vk.com/comrade_sasha_vd)
- [1.2 Рыпунов Денис Олегович](https://vk.com/denis_rypunov)
- [1.4 Баев Дмитрий Андреевич](https://vk.com/templarabuzer)
</details>

## Вниманию проверяющих
### Общие пояснения текущих механик и интерфейса
Геймплей разделен на две фазы: так называемые "Фазу Планирования" и "Фазу Действия".  Текущую фазу обозначает цветной индикатор рядом с кнопкой "Закончить ход": красный = "Фаза Планирования"; зеленый = "Фаза Действия". Во время "Фазы Планирования" в мире игры стоит пауза, а у игроков есть возможность отдавать приказы своим юнитам. Во время "Фазы Действия" все ровно наоборот - пауза снимается, и управление юнитами отнимается у игрока. "Фаза Планирования" не имеет ограничения по времени, а каждая "Фаза Действия" длится 10 секунд, которые отсчитывает таймер в правом нижнем углу экрана. Смена режима происходит по кнопке "Закончить ход" или по истечении 10 секунд "Фазы действия". 

В текущей версии доступны два режима игры: "Обучение" и "Играть вдвоем".

"Обучение" сейчас не является в полной степени таковым: на данный момент это просто песочница для того, чтобы можно было попробовать управление, освоиться с механиками и т.д. В этом режиме у игрока есть определенный набор войск, а также враги, которые будут ждать в обозначенных районах карты. В ближайшем будущем планируется его большая доработка, чтобы оно предоставляло поэтапное знакомство игрока с механиками игры и возможностями управления юнитами.

"Играть вдвоем" также на данный момент не является завершенным, так как ещё не реализована механика "покупки юнитов" в начале игры, а также ещё не создана полноценная карта для игры. Тем не менее сейчас в этом режиме можно протестировать возможности игры вдвоем за одним компьютером.

Игрок может выбирать и управлять лишь своими юнитами. Главным средством управления является указание точки движения (или очереди точек с использованием сочетания `Shift` + `ПКМ`). Юниты сами находят себе цель для атаки и атакуют её. Во время атаки юнит не может двигаться; так же по умолчанию он не может двигаться при перезарядке. 

Также "Нулевой версии" в игре появилась целый набор дополнительных возможностей управления юнитами:
- На левой части панели выводятся хар-ки выбранного типа юнита
- Справа от хар-к находится панель управления приоритетами. Чем левее в этой строчке находится "приоритет", тем более важным его будет считать юнит при выборе противника для атаки, если вокруг есть несколько вариантов
- Самая правая часть панели - общие настройки поведения юнитов: 1) Нажатие на кнопку "Преследование" включает одноименный режим у юнита. В нем он сможет начинать преследовать юнита, даже если тот будет уходить из радиуса атаки. 2) Включенная "Стрельба на ходу" позволяет юниту перезаряжться на ходу, но накладвыает определенные штрафы к скорости передвижения и перезарядки. 3) Кнопка "Не стрелять" соответвенно запрещает проводить атаку (юнит не останавливается для атаки, а продолжает движение к своей цели).

В случае если выбрано несколько юнитов и они имеют разные настройки в самой правой части панели - это будет помечено либо надписью "Разн.", либо белым цветом

![image](https://github.com/Palom-Porom/FangsAndSteel/assets/114829512/bcc73163-2194-4769-80d5-834d81d614f0)

В основном юниты различаются между собой только различным набором хар-к. Однако помимо этого Танк способен атаковать и перезаряжаться на ходу; а пулеметчик, напротив, для атаки и перезарядки должен находиться в "развернутом" состоянии (переходит в него автоматически, когда собирается атаковать цель. В развернутом состоянии не способен передвигаться - для этого должен "свернуться" обратно). Также пулеметчик, в отличие от других юнитов, обладает "лентой" на 50 патронов, что можно заметить в его полоске перезарядки (с уменьшением кол-ва патронов в "ленте" она уменьшается)

### Известные проблемы и недоработки
- Юниты могут "войти друг в друга" или "пройти сквозь друг друга"
- "Туман Войны" отображает точный обзор игрока только в случае если смотреть на него перпендикулярно сверху-вниз. В большинстве случаев искажение не слишком большое, но при некоторых углах камеры это может ввести в заблуждение
- Кнопка "Боевой режим" сейчас не делает ничего. Вероятно будет убрана в следующих версиях
- Кнопка "Стрельба на ходу" не делает ничего для Танка. В дальнейшем будет введено некоторое визуальное обозначение этого факта
- В связи со слишком малым кол-вом тестов "Стрельба на ходу" и "Преследование" работают некорректно. В ближайшее время будет хотфикс - проблема не слишком большая и связана с банальной невнимательностью
- Общее низкое качество визуальной части интерфейса. Также отсутсвуют настройки
- Отсутствуют "Синие" версии юнитов (чтобы различать принадлежность к командам). Для этого уже все есть, просто в ходе подготовки билда запекание анимаций в эти версии юнитов произошло некорректно и от нехватки времени пришлось отказаться от их использования в предзащите. В текущей версии о принадлежность юнита можно догадаться по: а) невозможности выбрать юнит; б) отсутствию/наличию круга обзора вокруг него (противник не будет "расширять" обзор игрока и тем самым "рассеивать туман войны") 
- Отсутствуют текстуры для Танка и Артиллерии
- Артиллерия формально в игре уже есть, но для неё ещё не были реализованы некоторые механики управления, поэтому на карты для игры она пока ещё не попала
- У АнтиТанка и Танка существует некоторая десинхронизация в анимации атаки и моменте нанесения урона
- К счастью во время игры можно слушать любимую музыку или смотреть видео, так как вас не будут отвлекать звуки из игры :)

### Вещи, не являющиеся ошибками, но которые могут создать впечатление некорректной работы
- Юниты имеют разные радиусы атаки, отчего может возникнуть ситуация, когда один стреляет, а второй просто стоит, ничего не делая
- При выборе разных типов юнитов окно с хар-ками пустует, ибо они собственно имеют разные хар-ки
- Камера по умолчанию имеет ограничение по минимальной высоте. Чтобы выключить/включить его нажмите клавишу `B` (может быть полезно если хотите посмотреть на юнитов поближе)
- В случае нахождения камеры слишком близко к земле (ниже минимальной высоты) "Туман Войны" пропадает. На текущий момент так и задумано
- Во время "Фазы действия" не работают кнопки / юниты не слушаются приказов - так и задумано, см. первый абзац в "Общие пояснения текущих механик и интерфейса"

### Управление
| Действие  | Клавиши |
| :---- | :----: |
| Движение камеры | `W` `A` `S` `D` |
| Приближение камеры  | `Колесико мыши` |
| Вращение камеры  | `СКМ` + `Движение мышью` |
| Отключить ограничение камеры  | `B` |
| Выбрать одного юнита  | `ЛКМ` |
| Выбрать группу юнитов  | Зажатие `ЛКМ` |
| Указать текущую точку движения (для выбранных юнитов) | `ПКМ` |
| Добавить в очередь новую точку движения (для выбранных юнитов) | `Shift` + `ПКМ` |
| Открыть меню  | `Esc` |
